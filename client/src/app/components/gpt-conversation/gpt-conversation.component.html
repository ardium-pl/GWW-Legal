<div class="conversation-container">
  <div class="conversation-messages" #messages>
    @for (item of itemsWithoutSystemMessage(); track item.content) {
      <app-message-bubble
        [content]="item.content()"
        [isError]="isGptConversationResponse(item) && item.isError()"
        [isLoading]="isGptConversationResponse(item) && item.isLoading()"
        [left]="isGptConversationResponse(item)"
      />
    }
  </div>
  <div class="conversation-input">
    <mat-form-field>
      <textarea matInput placeholder="Zadaj pytanie..." [(ngModel)]="message" (keydown)="handleEnterKeyPress($event)"></textarea>
    </mat-form-field>
    <button mat-fab color="primary" [disabled]="!message()" (click)="executeSendMessage()">
      <img src="assets/images/send.svg" alt="WyÅ›lij" />
    </button>
  </div>
</div>
